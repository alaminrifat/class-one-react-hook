<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Hooks Deep Dive</title>

    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Reveal.js from CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css"
    />

    <style>
      /* Theme CSS Variables */
      :root {
        --bg-color: #ffffff;
        --text-color: #1e293b;
        --heading-color: #050042;
        --accent-color: #624dff;
        --muted-color: #64748b;
        --code-bg: #f1f5f9;
        --border-color: #e2e8f0;
      }

      /* Base Styles */
      .reveal {
        font-family: "Inter", sans-serif;
        font-size: 32px;
        font-weight: 400;
        color: var(--text-color);
      }

      .reveal .slides {
        text-align: left;
      }

      .reveal h1,
      .reveal h2,
      .reveal h3 {
        font-family: "Inter", sans-serif;
        font-weight: 700;
        color: var(--heading-color);
        text-transform: none;
        margin-bottom: 0.5em;
      }

      .reveal h1 {
        font-size: 2.5em;
        line-height: 1.2;
      }

      .reveal h2 {
        font-size: 1.8em;
        line-height: 1.3;
      }

      .reveal h3 {
        font-size: 1.3em;
        font-weight: 600;
      }

      .reveal p {
        margin: 0.75em 0;
        line-height: 1.6;
      }

      .reveal ul,
      .reveal ol {
        margin: 0.75em 0;
        padding-left: 1.5em;
      }

      .reveal li {
        margin: 0.5em 0;
        line-height: 1.5;
      }

      .reveal strong {
        color: var(--heading-color);
        font-weight: 600;
      }

      .reveal em {
        color: var(--accent-color);
        font-style: italic;
      }

      .reveal blockquote {
        background: var(--code-bg);
        border-left: 4px solid var(--accent-color);
        padding: 1em 1.5em;
        margin: 1em 0;
        font-style: italic;
        color: var(--heading-color);
      }

      /* Code Styles */
      .reveal pre {
        margin: 1em 0;
        border-radius: 8px;
        box-shadow: none;
      }

      .reveal code {
        font-family: "Consolas", "Monaco", "Courier New", monospace;
        background: var(--code-bg);
        padding: 0.2em 0.4em;
        border-radius: 4px;
        font-size: 0.85em;
      }

      .reveal pre code {
        display: block;
        padding: 1em;
        background: var(--code-bg);
        color: var(--heading-color);
        max-height: 500px;
        overflow: auto;
        line-height: 1.4;
      }

      /* Title Slide */
      .title-slide {
        text-align: center !important;
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
      }

      .title-slide .logo {
        margin-bottom: 1.5em;
      }

      .title-slide .logo svg {
        max-width: 200px;
        height: auto;
      }

      .title-slide h1 {
        margin-bottom: 0.3em;
      }

      .title-slide .subtitle {
        font-size: 1.2em;
        color: var(--muted-color);
        margin: 0.5em 0;
        font-weight: 500;
      }

      .title-slide .meta {
        font-size: 0.9em;
        color: var(--muted-color);
        margin-top: 1.5em;
      }

      /* Accent Elements */
      .accent {
        color: var(--accent-color);
      }

      .muted {
        color: var(--muted-color);
      }

      /* Tables */
      .reveal table {
        margin: 1em auto;
        border-collapse: collapse;
        font-size: 0.85em;
      }

      .reveal table th {
        background: var(--accent-color);
        color: white;
        padding: 0.75em 1em;
        font-weight: 600;
      }

      .reveal table td {
        padding: 0.75em 1em;
        border-bottom: 1px solid var(--border-color);
      }

      .reveal table tr:hover {
        background: var(--code-bg);
      }

      /* Two Column Layout */
      .two-column {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2em;
        align-items: start;
      }

      /* Progress Bar */
      .reveal .progress {
        background: var(--border-color);
        height: 3px;
      }

      .reveal .progress span {
        background: var(--accent-color);
      }

      /* Controls */
      .reveal .controls {
        color: var(--accent-color);
      }

      /* Special markers */
      .check::before {
        content: "‚úîÔ∏è ";
        color: #10b981;
      }

      .cross::before {
        content: "‚ùå ";
        color: #ef4444;
      }

      .arrow::before {
        content: "üëâ ";
      }

      /* Comparison boxes */
      .comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5em;
        margin: 1em 0;
      }

      .comparison-box {
        padding: 1em;
        border-radius: 8px;
        border: 2px solid var(--border-color);
      }

      .comparison-box.bad {
        border-color: #ef4444;
        background: #fef2f2;
      }

      .comparison-box.good {
        border-color: #10b981;
        background: #f0fdf4;
      }

      .comparison-box h3 {
        margin-top: 0;
        font-size: 1.1em;
      }
    </style>
  </head>
  <body class="theme-corporate">
    <div class="reveal">
      <div class="slides">
        <!-- Title Slide -->
        <section class="title-slide">
          <div class="logo">
            <svg
              width="200"
              height="88"
              viewBox="0 0 2000 883"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect width="2000" height="883" rx="100" fill="white" />
              <path
                d="M1798.68 553V319.802H1845.89V553H1798.68Z"
                fill="#050042"
              />
              <path
                d="M1734.05 384.88H1777.76V553H1734.05V534.497C1721.93 548.853 1704.39 557.147 1682.37 557.147C1633.88 557.147 1598.79 519.185 1598.79 469.1C1598.79 418.696 1633.88 383.923 1682.37 383.923C1704.39 383.923 1721.93 391.58 1734.05 405.297V384.88ZM1689.07 515.356C1714.91 515.356 1732.46 496.535 1732.46 469.1C1732.46 441.665 1714.91 422.524 1689.07 422.524C1663.87 422.524 1645.69 442.303 1645.69 469.1C1645.69 495.897 1663.87 515.356 1689.07 515.356Z"
                fill="#050042"
              />
              <path
                d="M1562.14 360.316C1544.91 360.316 1531.19 347.875 1531.19 330.329C1531.19 313.103 1544.91 300.342 1562.14 300.342C1579.36 300.342 1592.76 313.103 1592.76 330.329C1592.76 347.875 1579.36 360.316 1562.14 360.316ZM1538.21 553V384.88H1585.42V553H1538.21Z"
                fill="#050042"
              />
              <path
                d="M1500.79 553C1459 553 1437.62 528.117 1437.62 490.154V425.076H1408.91V384.88H1423.27C1434.75 384.88 1440.49 378.819 1440.49 366.697V340.538H1486.43V384.88H1527.26V425.076H1484.84V484.412C1484.84 502.277 1494.09 511.847 1510.68 511.847H1528.54V553H1500.79Z"
                fill="#050042"
              />
              <path
                d="M1339.79 380.733C1379.99 380.733 1405.51 407.849 1405.51 447.088V553H1358.62V456.339C1358.62 434.965 1344.58 422.843 1325.44 422.843C1306.62 422.843 1291.94 436.241 1291.62 453.468V553H1244.41V384.88H1289.07V400.512C1300.56 388.708 1318.1 380.733 1339.79 380.733Z"
                fill="#050042"
              />
              <path
                d="M1105.4 483.455C1110.82 505.467 1128.05 517.909 1150.38 517.909C1171.11 517.909 1181.64 510.571 1188.98 497.173L1225.03 521.099C1211.95 540.239 1190.25 557.147 1149.1 557.147C1094.55 557.147 1059.14 519.185 1059.14 469.1C1059.14 420.291 1097.74 381.052 1145.91 381.052C1200.14 381.052 1232.36 423.481 1232.36 465.591C1232.36 472.928 1232.05 479.308 1231.41 483.455H1105.4ZM1104.76 452.511H1188.02C1183.56 430.499 1168.88 416.782 1147.19 416.782C1125.5 416.782 1109.54 429.542 1104.76 452.511Z"
                fill="#050042"
              />
              <path
                d="M1033.75 553C991.964 553 970.59 528.117 970.59 490.154V425.076H941.879V384.88H956.234C967.719 384.88 973.461 378.819 973.461 366.697V340.538H1019.4V384.88H1060.23V425.076H1017.8V484.412C1017.8 502.277 1027.06 511.847 1043.64 511.847H1061.51V553H1033.75Z"
                fill="#050042"
              />
              <path
                d="M855.028 557.147C801.753 557.147 764.109 519.185 764.109 469.1C764.109 418.696 801.753 381.052 855.028 381.052C907.984 381.052 945.946 418.696 945.946 469.1C945.946 519.185 907.984 557.147 855.028 557.147ZM855.347 515.037C880.868 515.037 898.733 495.897 898.733 468.781C898.733 441.984 881.506 423.162 855.347 423.162C829.188 423.162 811.642 441.984 811.642 469.1C811.642 495.897 829.188 515.037 855.347 515.037Z"
                fill="#050042"
              />
              <path
                d="M688.916 331.286C736.449 331.286 766.436 358.721 766.436 401.15C766.436 443.259 736.13 471.014 688.916 471.014H645.849V553H598.316V331.286H688.916ZM686.364 429.542C707.419 429.542 718.265 417.738 718.265 401.15C718.265 384.561 707.419 372.758 686.364 372.758H645.849V429.542H686.364Z"
                fill="#050042"
              />
              <path
                d="M339.907 528.48H234.516C226.433 528.48 218.826 531.491 213.121 537.196C207.415 543.06 204.246 550.667 204.404 558.75C204.404 575.232 218.351 588.703 235.15 588.703H310.905C320.413 588.703 328.972 582.205 331.666 573.013L343.235 532.917C343.552 531.808 343.394 530.698 342.76 529.748C342.126 528.955 341.016 528.48 339.907 528.48Z"
                fill="#624DFF"
              />
              <path
                d="M481.588 470.476H381.11C373.027 470.476 365.42 473.487 359.715 479.193C354.01 485.056 350.84 492.664 350.84 500.746C350.998 517.229 364.945 530.7 381.744 530.7H452.586C462.095 530.7 470.653 524.202 473.347 515.168L484.916 474.914C485.233 473.804 485.075 472.695 484.282 471.902C483.648 470.952 482.698 470.476 481.588 470.476Z"
                fill="#624DFF"
              />
              <path
                d="M493.952 317.064C479.847 302.801 461.146 294.876 441.178 294.876H370.97C362.729 294.876 355.28 300.423 353.061 308.348L344.186 339.093C341.809 347.176 334.202 352.881 325.802 352.881H242.757C225.799 352.881 211.853 366.352 211.695 382.834C211.695 390.917 214.864 398.524 220.57 404.23C226.275 409.935 233.882 413.105 241.965 413.105H315.184C324.851 413.105 333.251 406.607 335.945 397.415L344.503 367.937C346.722 360.488 353.695 355.258 361.461 355.258H429.133C432.936 355.258 436.74 356.843 439.434 359.537C442.128 362.232 443.396 365.56 443.396 369.046C443.396 372.691 441.97 376.02 439.434 378.555C436.899 381.25 433.412 382.676 429.767 382.676H367.959C359.717 382.676 352.269 388.223 350.05 396.147L341.175 426.734C338.798 434.817 331.349 440.522 322.791 440.522H168.112C151.63 440.522 138 453.993 138 470.634C138 487.275 151.63 500.746 168.112 500.746H312.173C321.84 500.746 330.398 494.406 332.934 485.214L341.492 455.578C343.711 448.129 350.525 443.058 358.291 443.058H439.91C480.798 443.058 514.397 410.41 515.189 370.156C515.506 350.187 507.899 331.328 493.952 317.064Z"
                fill="#624DFF"
              />
            </svg>
          </div>
          <h1>React Hooks Deep Dive</h1>
          <p class="subtitle">useEffect, useEffectEvent, useTransition</p>
          <p class="meta">Al Amin Rifat</p>
        </section>

        <!-- Agenda -->
        <section>
          <h2>Agenda</h2>
          <ol>
            <li>Why React needs Hooks</li>
            <li>useEffect ‚Äì lifecycle & side effects</li>
            <li>Common useEffect problems</li>
            <li>useEffectEvent ‚Äì solving stale closures</li>
            <li>Event-driven vs reactive logic</li>
            <li>useTransition ‚Äì non-blocking UI</li>
          </ol>
        </section>

        <!-- Why Hooks Exist -->
        <section>
          <h2>Why Hooks Exist</h2>
          <p>React components re-render on:</p>
          <ul>
            <li>state change</li>
            <li>props change</li>
          </ul>
          <p>Side effects don't belong in render:</p>
          <ul>
            <li>API calls</li>
            <li>subscriptions</li>
            <li>timers</li>
            <li>logging</li>
          </ul>
          <p class="arrow">
            Hooks help manage <strong>side effects safely</strong>
          </p>
        </section>

        <!-- What is useEffect? -->
        <section>
          <h2>What is useEffect?</h2>
          <blockquote>
            <code>useEffect</code> lets you run side effects
            <strong>after rendering</strong>
          </blockquote>
          <pre><code class="language-javascript">useEffect(() => {
  console.log("Component rendered");
}, []);</code></pre>
          <ul>
            <li>Runs after render</li>
            <li>Runs after DOM is painted</li>
          </ul>
        </section>

        <!-- useEffect Dependency Rules -->
        <section>
          <h2>useEffect Dependency Rules</h2>
          <pre><code class="language-javascript">useEffect(() => {
  fetchData();
}, [count]);</code></pre>
          <table>
            <thead>
              <tr>
                <th>Dependency array</th>
                <th>Effect runs</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>[]</code></td>
                <td>once (mount)</td>
              </tr>
              <tr>
                <td>none</td>
                <td>every render</td>
              </tr>
              <tr>
                <td><code>[count]</code></td>
                <td>when count changes</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- Real Example -->
        <section>
          <h2>Real Example: Data Fetching with useEffect</h2>
          <pre><code class="language-javascript">useEffect(() => {
  fetchComments();
}, [count]);</code></pre>
          <p>
            <strong>Meaning:</strong> "Whenever count changes, refetch data"
          </p>
          <p class="check">Works</p>
          <p class="cross">
            Creates tight coupling between state & side effects
          </p>
        </section>

        <!-- Problems with useEffect -->
        <section>
          <h2>Problems with useEffect</h2>
        </section>

        <!-- Problem 1: Stale Closure -->
        <section>
          <h3 class="cross">Problem 1: Stale Closure</h3>
          <pre><code class="language-javascript">useEffect(() => {
  setInterval(() => {
    console.log(count);
  }, 1000);
}, []);</code></pre>
          <ul>
            <li>Logs old count</li>
            <li>Effect doesn't see updates</li>
          </ul>
        </section>

        <!-- Problem 2: Dependency Explosion -->
        <section>
          <h3 class="cross">Problem 2: Dependency Explosion</h3>
          <pre><code class="language-javascript">useEffect(() => {
  doSomething(a, b, c, d);
}, [a, b, c, d]);</code></pre>
          <ul>
            <li>ESLint warnings</li>
            <li>Hard to reason about</li>
            <li>Re-runs too often</li>
          </ul>
        </section>

        <!-- Problem 3: Event Logic Inside Effect -->
        <section>
          <h3 class="cross">Problem 3: Event Logic Inside Effect</h3>
          <pre><code class="language-javascript">useEffect(() => {
  fetchData();
}, [buttonClicked]);</code></pre>
          <p class="arrow">
            User action controlling effect = wrong abstraction
          </p>
        </section>

        <!-- Enter: useEffectEvent -->
        <section>
          <h2>Enter: useEffectEvent</h2>
          <p
            style="
              font-size: 1.2em;
              color: var(--accent-color);
              font-weight: 600;
            "
          >
            useEffectEvent lets you read latest state<br />
            without re-running effects
          </p>
        </section>

        <!-- What is useEffectEvent? -->
        <section>
          <h2>What is useEffectEvent?</h2>
          <pre><code class="language-javascript">const handler = useEffectEvent(() => {
  console.log(count);
});</code></pre>
          <p><strong>Key properties:</strong></p>
          <ul>
            <li>Always sees latest state</li>
            <li>Does NOT cause re-render</li>
            <li>Not a dependency</li>
          </ul>
        </section>

        <!-- useEffect vs useEffectEvent -->
        <!-- <section>
          <h2>useEffect vs useEffectEvent</h2>
          <table>
            <thead>
              <tr>
                <th>Concern</th>
                <th>Hook</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Lifecycle (mount/update)</td>
                <td>useEffect</td>
              </tr>
              <tr>
                <td>User actions</td>
                <td>useEffectEvent</td>
              </tr>
              <tr>
                <td>Read latest state</td>
                <td>useEffectEvent</td>
              </tr>
              <tr>
                <td>Avoid effect re-runs</td>
                <td>useEffectEvent</td>
              </tr>
            </tbody>
          </table>
        </section> -->

        <!-- Meaningful Example -->
        <section>
          <h2>Meaningful Example: Data Fetching</h2>
          <div class="comparison">
            <div class="comparison-box bad">
              <h3 class="cross">Old Pattern</h3>
              <pre><code class="language-javascript">useEffect(() => {
  fetchComments();
}, [count]);</code></pre>
              <ul style="font-size: 0.8em">
                <li>State change triggers network call</li>
                <li>Hard to control</li>
              </ul>
            </div>
            <div class="comparison-box good">
              <h3 class="check">New Pattern</h3>
              <pre><code class="language-javascript">const fetchComments =
  useEffectEvent(() => {
    fetch(`/comments?limit=${count}`);
  });

useEffect(() => {
  fetchComments();
}, []);</code></pre>
            </div>
          </div>
        </section>

        <!-- Button Click Logic -->
        <section>
          <h2>Button Click Logic (Important)</h2>
          <pre><code class="language-javascript">&lt;button
  onClick={() => {
    setCount(c => c + 1);
    fetchComments();
  }}
&gt;
  Fetch More
&lt;/button&gt;</code></pre>
          <p>
            <strong>Meaning:</strong> "User decides when the side effect runs"
          </p>
        </section>

        <!-- Key Mental Shift -->
        <!-- <section>
        <h2>Key Mental Shift</h2>
        <div class="comparison">
          <div class="comparison-box bad">
            <h3 class="cross">Old thinking</h3>
            <p>State change causes side effects</p>
          </div>
          <div class="comparison-box good">
            <h3 class="check">New thinking</h3>
            <p>User intent causes side effects</p>
          </div>
        </div>
      </section> -->

        <!-- Golden Rule -->
        <!-- <section>
          <h2>Golden Rule (Exam-worthy)</h2>
          <blockquote style="font-size: 1.1em">
            If something happens because of user action,<br />
            it should <strong>NOT</strong> be in useEffect
          </blockquote>
        </section> -->

        <!-- What is useTransition? -->
        <section>
          <h2>What is useTransition?</h2>
          <p
            style="
              font-size: 1.2em;
              color: var(--accent-color);
              font-weight: 600;
            "
          >
            useTransition lets you update state<br />
            without blocking the UI
          </p>
        </section>

        <!-- Problem Without useTransition -->
        <section>
          <h2>Problem Without useTransition</h2>
          <pre><code class="language-javascript">setSearch(text);
setResults(expensiveFilter(text));</code></pre>
          <ul>
            <li>UI freezes</li>
            <li>Typing feels slow</li>
          </ul>
        </section>

        <!-- Solution: useTransition -->
        <section>
          <h2>Solution: useTransition</h2>
          <pre><code class="language-javascript">const [isPending, startTransition] = useTransition();

startTransition(() => {
  setResults(expensiveFilter(text));
});</code></pre>
        </section>

        <!-- What useTransition Does -->
        <section>
          <h2>What useTransition Does</h2>
          <ul>
            <li>Marks update as non-urgent</li>
            <li>Keeps UI responsive</li>
            <li>React can pause & resume work</li>
          </ul>
        </section>

        <!-- When to Use useTransition -->
        <section>
          <h2>When to Use useTransition</h2>
          <div class="comparison">
            <div class="comparison-box good">
              <h3 class="check">Use for:</h3>
              <ul style="font-size: 0.9em">
                <li>Filtering</li>
                <li>Search results</li>
                <li>Large lists</li>
                <li>Charts</li>
              </ul>
            </div>
            <div class="comparison-box bad">
              <h3 class="cross">Don't use for:</h3>
              <ul style="font-size: 0.9em">
                <li>API calls</li>
                <!-- <li>Critical updates</li> -->
              </ul>
            </div>
          </div>
        </section>

        <!-- Final Mental Model -->
        <section>
          <h2>Final Mental Model</h2>
          <table>
            <thead>
              <tr>
                <th>Hook</th>
                <th>Purpose</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>useEffect</code></td>
                <td>When something should run</td>
              </tr>
              <tr>
                <td><code>useEffectEvent</code></td>
                <td>What should happen</td>
              </tr>
              <tr>
                <td><code>useTransition</code></td>
                <td>How urgent the update is</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- Final Takeaways -->
        <!-- <section>
          <h2>Final Takeaways</h2>
          <ul>
            <li>Don't overuse useEffect</li>
            <li>Separate lifecycle & events</li>
            <li>Prefer explicit control</li>
            <li>Write predictable React code</li>
          </ul>
        </section> -->

        <!-- Thank You -->
        <section class="title-slide">
          <h1>Thank You üôå</h1>
          <p class="subtitle">Questions?</p>
        </section>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script>
      Reveal.initialize({
        hash: true,
        progress: true,
        controls: true,
        center: true,
        transition: "slide",
        slideNumber: "c/t",
        showSlideNumber: "speaker",
      });
    </script>
  </body>
</html>
